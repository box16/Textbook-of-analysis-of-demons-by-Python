# 2.2.3標準ライブラリ

正規表現モジュール<br>
* re
* [sample.py](https://scrapbox.io/api/code/InoueStudying/2.2.3%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA/sample.py)
* import re
* prog = re.compile("(P(yth|l)|Z)o[pn]e?")#正規表現オブジェクトの生成
*  
* prog.search("Python")#マッチする場合はmatchオブジェクトが返ってくる。マッチしない場合はNone

ログモジュール<br>
* 複数回繰り返す処理中の途中経過を知りたいときはprintよりloggingの方が便利
* ログレベルの指定や、任意ファイルに任意フォーマットでの記録が出来る
* [sample.py](https://scrapbox.io/api/code/InoueStudying/2.2.3%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA/sample.py)
* import logging
*  
* #example.logにINFO以上のレベルのログを指定フォーマットで記録
* logging.basicConfig(filename="example.log",
* level=logging.INFO,
* format="%(asctime)s:%(levelname)s:%(message)s")
*  
* logging.debug("Debugレベル")
* logging.info("Infoレベル")
* logging.warning("Warningレベル")
* logging.error("Errorレベル")
* logging.critical("Criticalレベル")
* [![Image](https://gyazo.com/55fd26551ef2eb88f2470f44b236bf5e/thumb/1000)](https://gyazo.com/55fd26551ef2eb88f2470f44b236bf5e)
* INFOレベル以上の設定であるためDebugは表示されない

datetimeモジュール<br>
* 日付関連の処理にはdatetimeモジュールが便利
* [sample.py](https://scrapbox.io/api/code/InoueStudying/2.2.3%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA/sample.py)
* from datetime import datetime,date
*  
* datetime.now()#現在日時の取得
* date.today()#今日の日付までを取得。時間は取得しない
* date.today - date(2008,12,3)#日付計算
* datetime.now().isoformat()#isoフォーマットで現在日時を取得
* date.today().strftime("%Y年%m月%d日")#日付を文字列に変換
* datetime.strptime("2018年7月11日","%Y年%m月%d日")#文字列を日付に変換

pickleモジュール<br>
* Pythonのオブジェクトを直列化(serialization)してファイル読み書きをするように出来るモジュール
* [sample.py](https://scrapbox.io/api/code/InoueStudying/2.2.3%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA/sample.py)
* import pickle
* from datetime import datetime,date
*  
* #何かしらのデータを定義
* _date = {"today":date.today(), "delta":date(2019,1,1)-date.today()}
*  
* #データを直列化。(バイト化)
* pickle.dumps(_date)
*  
* #バイト化したデータをファイルに書き込み(バイト書き込みモード)
* with open("date.pkl","wb") as f:
* pickle.dump(_date,f)
*  
* #バイト化されたデータを読み込み(バイト読み込みモード)
* with open("date.pkl","rb") as f:
* new_date = pickle.load(f)
* 
* #new_dateは_dateと同じ内容になっているはず
* 機械学習のパラメータとか、中間層の重みとかを一旦保存して再学習とかに使えるのか。
* 知らなかった

pathlibモジュール<br>
* Pythonでファイルのパスを扱うときはpathlibモジュールを用いる
* [sample.py](https://scrapbox.io/api/code/InoueStudying/2.2.3%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA/sample.py)
* from pathlib import Path
*  
* p = Path()#Pathオブジェクトを現在のファイルパスで作成
*  
* for filepath in p.glob("*.txt"):#.txtを末尾に含む全ファイルを読み込む
* with open(filepath,encoding="utf-8") as f:
* data = f.read()
*  
* p = Path("/spam")#./spamディレクトリを基準にファイルパスオブジェクトを作成
* p/"ham"/"eggs.txt"#Pathオブジェクトの/演算子はパス作成になる
*  
* p = Path("date.pkl")
* p.exists()#ファイルの存在を確認。存在する場合はTrue
* p.is_dir()#Pathオブジェクトの指すものがディレクトリであるかを確認。ディレクトリならTrue